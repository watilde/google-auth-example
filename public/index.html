<html>
<body>
  <script>
  const request = new XMLHttpRequest();
  request.open('GET', '/api/auth', true);
  request.onload = () => {
    try {
      const data = JSON.parse(request.responseText)
      const div = document.createElement('div')
      const name = document.createTextNode(`Hello ${data.displayName} !`)
      div.appendChild(name)
      const a = document.createElement('a')
      a.href = 'logout'
      const txt = document.createTextNode('Logout?')
      a.appendChild(txt)
      document.body.appendChild(div)
      document.body.appendChild(a)
    } catch (e) {
      const a = document.createElement('a')
      a.href = 'login.html'
      const txt = document.createTextNode('Move to Login page')
      a.appendChild(txt)
      document.body.appendChild(a)
    }
  }
  request.onerror = (e) => {}
  request.send()
  </script>
</body>
</html>
